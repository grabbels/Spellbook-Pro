import{S as oe,i as re,s as ue,e as K,b as O,g as A,t as $,d as F,f as h,h as b,a0 as Q,ah as R,k as E,l as T,m as D,n as y,N as le,U as G,a7 as C,a1 as q,a3 as ne,q as ie,a as I,w as S,r as ae,c as N,x as U,p as j,y as V,u as se,z,_ as L}from"./singletons-4e7778da.js";import{a as M,P as W,m as X,d as Y,n as Z,u as x,p as ee}from"./pill-9fbe8380.js";import{B as H}from"./button-ad6f7d8d.js";import{p as fe,m as ce}from"./stores-f5e17f9d.js";function pe(n){let e,t,l;return{c(){e=E("button"),this.h()},l(o){e=T(o,"BUTTON",{class:!0}),D(e).forEach(b),this.h()},h(){y(e,"class","slot placeholder svelte-1pboqvo")},m(o,p){O(o,e,p),l=!0},p:le,i(o){l||(G(()=>{t||(t=C(e,M,{duration:100},!0)),t.run(1)}),l=!0)},o(o){t||(t=C(e,M,{duration:100},!1)),t.run(0),l=!1},d(o){o&&b(e),o&&t&&t.end()}}}function de(n){let e,t,l,o,p,c;return{c(){e=E("button"),t=E("i"),this.h()},l(s){e=T(s,"BUTTON",{class:!0});var i=D(e);t=T(i,"I",{class:!0}),D(t).forEach(b),i.forEach(b),this.h()},h(){y(t,"class","ri-add-line svelte-1pboqvo"),y(e,"class","slot svelte-1pboqvo")},m(s,i){O(s,e,i),q(e,t),o=!0,p||(c=ne(e,"click",n[5]),p=!0)},p:le,i(s){o||(G(()=>{l||(l=C(e,M,{duration:100},!0)),l.run(1)}),o=!0)},o(s){l||(l=C(e,M,{duration:100},!1)),l.run(0),o=!1},d(s){s&&b(e),s&&l&&l.end(),p=!1,c()}}}function _e(n){let e,t,l=n[0].name+"",o,p,c,s,i,r,m,w,g,v,k,B,P;s=new W({props:{text:n[0].class,size:"small",icon:"ri-contacts-line"}}),r=new W({props:{text:"Level "+n[0].level,size:"small",icon:"ri-user-star-line"}});let u=n[1]==="large"&&te(n);return{c(){e=E("button"),t=E("h3"),o=ie(l),p=I(),c=E("div"),S(s.$$.fragment),i=I(),S(r.$$.fragment),m=I(),u&&u.c(),this.h()},l(f){e=T(f,"BUTTON",{style:!0,"data-id":!0,class:!0});var a=D(e);t=T(a,"H3",{class:!0});var _=D(t);o=ae(_,l),_.forEach(b),p=N(a),c=T(a,"DIV",{style:!0,class:!0});var d=D(c);U(s.$$.fragment,d),i=N(d),U(r.$$.fragment,d),d.forEach(b),m=N(a),u&&u.l(a),a.forEach(b),this.h()},h(){y(t,"class","svelte-1pboqvo"),j(c,"width","100%"),y(c,"class","svelte-1pboqvo"),j(e,"background-color",n[0]?n[0].color:""),y(e,"data-id",w=n[0]?n[0].id:""),y(e,"class",g="slot "+(n[0].name?"taken":"")+" "+(n[2]=="My account"?"shadow":"")+" "+n[1]+" svelte-1pboqvo")},m(f,a){O(f,e,a),q(e,t),q(t,o),q(e,p),q(e,c),V(s,c,null),q(c,i),V(r,c,null),q(e,m),u&&u.m(e,null),k=!0,B||(P=ne(e,"click",n[4]),B=!0)},p(f,a){(!k||a&1)&&l!==(l=f[0].name+"")&&se(o,l);const _={};a&1&&(_.text=f[0].class),s.$set(_);const d={};a&1&&(d.text="Level "+f[0].level),r.$set(d),f[1]==="large"?u?(u.p(f,a),a&2&&h(u,1)):(u=te(f),u.c(),h(u,1),u.m(e,null)):u&&(A(),$(u,1,1,()=>{u=null}),F()),(!k||a&1)&&j(e,"background-color",f[0]?f[0].color:""),(!k||a&1&&w!==(w=f[0]?f[0].id:""))&&y(e,"data-id",w),(!k||a&7&&g!==(g="slot "+(f[0].name?"taken":"")+" "+(f[2]=="My account"?"shadow":"")+" "+f[1]+" svelte-1pboqvo"))&&y(e,"class",g)},i(f){k||(h(s.$$.fragment,f),h(r.$$.fragment,f),h(u),G(()=>{v||(v=C(e,M,{duration:100},!0)),v.run(1)}),k=!0)},o(f){$(s.$$.fragment,f),$(r.$$.fragment,f),$(u),v||(v=C(e,M,{duration:100},!1)),v.run(0),k=!1},d(f){f&&b(e),z(s),z(r),u&&u.d(),f&&v&&v.end(),B=!1,P()}}}function te(n){let e,t,l,o,p,c,s,i,r,m,w,g,v=n[0].description+"",k,B;l=new H({props:{icon:"ri-edit-line",type:"fill",text:"Edit details"}}),l.$on("click",function(){L(X(n[0].id))&&X(n[0].id).apply(this,arguments)}),p=new H({props:{icon:"ri-folder-open-line",type:"fill blue",text:"Open spellbook"}}),p.$on("click",function(){L(Y(n[0].id))&&Y(n[0].id).apply(this,arguments)});const P=[be,me],u=[];function f(a,_){return a[0].published===!1?0:a[0].published===!0?1:-1}return~(s=f(n))&&(i=u[s]=P[s](n)),m=new H({props:{icon:"ri-delete-bin-line",type:"fill alt",text:"Delete spellbook"}}),m.$on("click",function(){L(Z(n[0].id))&&Z(n[0].id).apply(this,arguments)}),{c(){e=E("div"),t=E("div"),S(l.$$.fragment),o=I(),S(p.$$.fragment),c=I(),i&&i.c(),r=I(),S(m.$$.fragment),w=I(),g=E("div"),k=ie(v),this.h()},l(a){e=T(a,"DIV",{class:!0});var _=D(e);t=T(_,"DIV",{class:!0});var d=D(t);U(l.$$.fragment,d),o=N(d),U(p.$$.fragment,d),c=N(d),i&&i.l(d),r=N(d),U(m.$$.fragment,d),d.forEach(b),_.forEach(b),w=N(a),g=T(a,"DIV",{class:!0});var J=D(g);k=ae(J,v),J.forEach(b),this.h()},h(){y(t,"class","svelte-1pboqvo"),y(e,"class","controls svelte-1pboqvo"),y(g,"class","description svelte-1pboqvo")},m(a,_){O(a,e,_),q(e,t),V(l,t,null),q(t,o),V(p,t,null),q(t,c),~s&&u[s].m(t,null),q(t,r),V(m,t,null),O(a,w,_),O(a,g,_),q(g,k),B=!0},p(a,_){n=a;let d=s;s=f(n),s===d?~s&&u[s].p(n,_):(i&&(A(),$(u[d],1,1,()=>{u[d]=null}),F()),~s?(i=u[s],i?i.p(n,_):(i=u[s]=P[s](n),i.c()),h(i,1),i.m(t,r)):i=null),(!B||_&1)&&v!==(v=n[0].description+"")&&se(k,v)},i(a){B||(h(l.$$.fragment,a),h(p.$$.fragment,a),h(i),h(m.$$.fragment,a),B=!0)},o(a){$(l.$$.fragment,a),$(p.$$.fragment,a),$(i),$(m.$$.fragment,a),B=!1},d(a){a&&b(e),z(l),z(p),~s&&u[s].d(),z(m),a&&b(w),a&&b(g)}}}function me(n){let e,t;return e=new H({props:{icon:"ri-lock-line",type:"outline accent",text:"Make private"}}),e.$on("click",function(){L(x(n[0].id))&&x(n[0].id).apply(this,arguments)}),{c(){S(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,o){V(e,l,o),t=!0},p(l,o){n=l},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function be(n){let e,t;return e=new H({props:{icon:"ri-upload-cloud-2-line",type:"fill accent",text:"Publish spellbook"}}),e.$on("click",function(){L(ee(n[0].id))&&ee(n[0].id).apply(this,arguments)}),{c(){S(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,o){V(e,l,o),t=!0},p(l,o){n=l},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function ve(n){let e,t,l,o;const p=[_e,de,pe],c=[];function s(i,r){return i[0].name?0:i[0].id==="add"&&i[3]==="save"?1:i[3]==="save"?2:-1}return~(e=s(n))&&(t=c[e]=p[e](n)),{c(){t&&t.c(),l=K()},l(i){t&&t.l(i),l=K()},m(i,r){~e&&c[e].m(i,r),O(i,l,r),o=!0},p(i,[r]){let m=e;e=s(i),e===m?~e&&c[e].p(i,r):(t&&(A(),$(c[m],1,1,()=>{c[m]=null}),F()),~e?(t=c[e],t?t.p(i,r):(t=c[e]=p[e](i),t.c()),h(t,1),t.m(l.parentNode,l)):t=null)},i(i){o||(h(t),o=!0)},o(i){$(t),o=!1},d(i){~e&&c[e].d(i),i&&b(l)}}}function he(n,e,t){let l,o;Q(n,fe,r=>t(2,l=r)),Q(n,ce,r=>t(3,o=r));let{data:p=null}=e,{type:c=""}=e;function s(r){R.call(this,n,r)}function i(r){R.call(this,n,r)}return n.$$set=r=>{"data"in r&&t(0,p=r.data),"type"in r&&t(1,c=r.type)},[p,c,l,o,s,i]}class qe extends oe{constructor(e){super(),re(this,e,he,ve,ue,{data:0,type:1})}}export{qe as S};
