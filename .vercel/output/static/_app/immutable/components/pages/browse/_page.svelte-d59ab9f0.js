import{S as ze,i as Ge,s as He,w as M,x as O,y as R,f as b,t as w,z as U,a0 as te,a4 as ae,o as Me,k as g,l as $,m as k,h as m,n as u,b as se,g as ve,d as he,N as Te,e as Ee,a8 as Oe,a as I,q as _e,c as V,r as me,p as H,a1 as c,a3 as pe,u as we,U as Re,V as Ue,$ as je}from"../../../chunks/singletons-4e7778da.js";import{S as ye,n as Ce,p as Ie,m as Ve,g as Be}from"../../../chunks/stores-f5e17f9d.js";import{P as De,a as Ae}from"../../../chunks/pill-9fbe8380.js";import{s as Fe}from"../../../chunks/supabaseClient-e444a6b7.js";import{C as Je}from"../../../chunks/close-6d43106c.js";import{G as Ke}from"../../../chunks/filters.svelte_svelte_type_style_lang-91295771.js";import{L as Qe}from"../../../chunks/loading-47aa1dda.js";function Le(a,l,t){const e=a.slice();e[11]=l[t];const s=e[11].description.toLowerCase();return e[12]=s,e}function We(a){let l,t;return l=new Qe({}),{c(){M(l.$$.fragment)},l(e){O(l.$$.fragment,e)},m(e,s){R(l,e,s),t=!0},p:Te,i(e){t||(b(l.$$.fragment,e),t=!0)},o(e){w(l.$$.fragment,e),t=!1},d(e){U(l,e)}}}function Xe(a){let l,t;return l=new Ke({props:{$$slots:{default:[Ye]},$$scope:{ctx:a}}}),{c(){M(l.$$.fragment)},l(e){O(l.$$.fragment,e)},m(e,s){R(l,e,s),t=!0},p(e,s){const i={};s&32783&&(i.$$scope={dirty:s,ctx:e}),l.$set(i)},i(e){t||(b(l.$$.fragment,e),t=!0)},o(e){w(l.$$.fragment,e),t=!1},d(e){U(l,e)}}}function Pe(a){let l,t;return l=new Je({}),l.$on("click",a[4]),{c(){M(l.$$.fragment)},l(e){O(l.$$.fragment,e)},m(e,s){R(l,e,s),t=!0},p:Te,i(e){t||(b(l.$$.fragment,e),t=!0)},o(e){w(l.$$.fragment,e),t=!1},d(e){U(l,e)}}}function Se(a){let l,t,e,s,i,r,n,o=a[11].name+"",_,L,A,F,C,p,B,j=a[11].creator+"",J,re,P,S,oe,T,ne,z,N,K=a[11].description+"",ce,q,y,ie,G,Q,W,X,Y,Z,fe,x,h,ue,ge,d=a[0]===a[11]&&Pe(a);S=new De({props:{label:"Character level",text:"Level "+a[11].level,size:"large",icon:"ri-numbers-line"}}),T=new De({props:{label:"Character class",text:a[11].class,size:"large",icon:"ri-sword-line"}});function Ne(){return a[7](a[11])}return{c(){l=g("div"),t=g("div"),d&&d.c(),e=I(),s=g("div"),i=g("h2"),r=g("i"),n=I(),_=_e(o),L=I(),A=g("br"),F=I(),C=g("p"),p=_e("created by "),B=g("strong"),J=_e(j),re=I(),P=g("div"),M(S.$$.fragment),oe=I(),M(T.$$.fragment),ne=I(),z=g("div"),N=g("p"),ce=I(),q=g("button"),y=g("i"),ie=I(),G=g("div"),x=I(),this.h()},l(v){l=$(v,"DIV",{class:!0,role:!0,"data-class":!0,"data-level":!0,"data-name":!0,"data-id":!0});var f=k(l);t=$(f,"DIV",{class:!0,style:!0});var E=k(t);d&&d.l(E),e=V(E),s=$(E,"DIV",{class:!0});var D=k(s);i=$(D,"H2",{class:!0});var ee=k(i);r=$(ee,"I",{style:!0,class:!0}),k(r).forEach(m),n=V(ee),_=me(ee,o),ee.forEach(m),L=V(D),A=$(D,"BR",{}),F=V(D),C=$(D,"P",{style:!0,class:!0});var de=k(C);p=me(de,"created by "),B=$(de,"STRONG",{});var $e=k(B);J=me($e,j),$e.forEach(m),de.forEach(m),D.forEach(m),re=V(E),P=$(E,"DIV",{class:!0});var le=k(P);O(S.$$.fragment,le),oe=V(le),O(T.$$.fragment,le),le.forEach(m),ne=V(E),z=$(E,"DIV",{class:!0});var ke=k(z);N=$(ke,"P",{class:!0});var qe=k(N);qe.forEach(m),ke.forEach(m),ce=V(E),q=$(E,"BUTTON",{class:!0});var be=k(q);y=$(be,"I",{class:!0}),k(y).forEach(m),be.forEach(m),E.forEach(m),ie=V(f),G=$(f,"DIV",{class:!0}),k(G).forEach(m),f.forEach(m),x=V(v),this.h()},h(){H(r,"color",a[11].color),u(r,"class","ri-book-mark-line svelte-10mcldn"),u(i,"class","svelte-10mcldn"),H(C,"color",a[11].color),u(C,"class","svelte-10mcldn"),u(s,"class","block title"),u(P,"class","block pills"),u(N,"class","svelte-10mcldn"),u(z,"class","block description svelte-10mcldn"),u(y,"class","ri-arrow-down-s-line fold svelte-10mcldn"),u(q,"class","fold svelte-10mcldn"),u(t,"class","card_inner svelte-10mcldn"),H(t,"border-color",a[11].color),u(G,"class","close_veil"),u(l,"class",Q="card item "+(a[0]===null?"":a[0]===a[11]?"open":"not-open")+" svelte-10mcldn"),u(l,"role","button"),u(l,"data-class",W=a[11].class),u(l,"data-level",X=a[11].level),u(l,"data-name",Y=a[11].name),u(l,"data-id",Z=a[11].id)},m(v,f){se(v,l,f),c(l,t),d&&d.m(t,null),c(t,e),c(t,s),c(s,i),c(i,r),c(i,n),c(i,_),c(s,L),c(s,A),c(s,F),c(s,C),c(C,p),c(C,B),c(B,J),c(t,re),c(t,P),R(S,P,null),c(P,oe),R(T,P,null),c(t,ne),c(t,z),c(z,N),N.innerHTML=K,c(t,ce),c(t,q),c(q,y),c(l,ie),c(l,G),se(v,x,f),h=!0,ue||(ge=[pe(q,"click",a[5]),pe(G,"click",a[6]),pe(l,"click",Ne)],ue=!0)},p(v,f){a=v,a[0]===a[11]?d?(d.p(a,f),f&3&&b(d,1)):(d=Pe(a),d.c(),b(d,1),d.m(t,e)):d&&(ve(),w(d,1,1,()=>{d=null}),he()),(!h||f&2)&&H(r,"color",a[11].color),(!h||f&2)&&o!==(o=a[11].name+"")&&we(_,o),(!h||f&2)&&j!==(j=a[11].creator+"")&&we(J,j),(!h||f&2)&&H(C,"color",a[11].color);const E={};f&2&&(E.text="Level "+a[11].level),S.$set(E);const D={};f&2&&(D.text=a[11].class),T.$set(D),(!h||f&2)&&K!==(K=a[11].description+"")&&(N.innerHTML=K),(!h||f&2)&&H(t,"border-color",a[11].color),(!h||f&3&&Q!==(Q="card item "+(a[0]===null?"":a[0]===a[11]?"open":"not-open")+" svelte-10mcldn"))&&u(l,"class",Q),(!h||f&2&&W!==(W=a[11].class))&&u(l,"data-class",W),(!h||f&2&&X!==(X=a[11].level))&&u(l,"data-level",X),(!h||f&2&&Y!==(Y=a[11].name))&&u(l,"data-name",Y),(!h||f&2&&Z!==(Z=a[11].id))&&u(l,"data-id",Z)},i(v){h||(b(d),b(S.$$.fragment,v),b(T.$$.fragment,v),fe||Re(()=>{fe=Ue(l,Ae,{duration:200}),fe.start()}),h=!0)},o(v){w(d),w(S.$$.fragment,v),w(T.$$.fragment,v),h=!1},d(v){v&&m(l),d&&d.d(),U(S),U(T),v&&m(x),ue=!1,je(ge)}}}function Ye(a){let l,t,e=a[1],s=[];for(let r=0;r<e.length;r+=1)s[r]=Se(Le(a,e,r));const i=r=>w(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();l=Ee()},l(r){for(let n=0;n<s.length;n+=1)s[n].l(r);l=Ee()},m(r,n){for(let o=0;o<s.length;o+=1)s[o].m(r,n);se(r,l,n),t=!0},p(r,n){if(n&15){e=r[1];let o;for(o=0;o<e.length;o+=1){const _=Le(r,e,o);s[o]?(s[o].p(_,n),b(s[o],1)):(s[o]=Se(_),s[o].c(),b(s[o],1),s[o].m(l.parentNode,l))}for(ve(),o=e.length;o<s.length;o+=1)i(o);he()}},i(r){if(!t){for(let n=0;n<e.length;n+=1)b(s[n]);t=!0}},o(r){s=s.filter(Boolean);for(let n=0;n<s.length;n+=1)w(s[n]);t=!1},d(r){Oe(s,r),r&&m(l)}}}function Ze(a){let l,t,e,s;const i=[Xe,We],r=[];function n(o,_){return o[1].length?0:1}return t=n(a),e=r[t]=i[t](a),{c(){l=g("div"),e.c(),this.h()},l(o){l=$(o,"DIV",{class:!0});var _=k(l);e.l(_),_.forEach(m),this.h()},h(){u(l,"class","panel svelte-10mcldn")},m(o,_){se(o,l,_),r[t].m(l,null),s=!0},p(o,_){let L=t;t=n(o),t===L?r[t].p(o,_):(ve(),w(r[L],1,1,()=>{r[L]=null}),he(),e=r[t],e?e.p(o,_):(e=r[t]=i[t](o),e.c()),b(e,1),e.m(l,null))},i(o){s||(b(e),s=!0)},o(o){w(e),s=!1},d(o){o&&m(l),r[t].d()}}}function xe(a){let l,t;return l=new ye({props:{name:"premades",$$slots:{default:[Ze]},$$scope:{ctx:a}}}),{c(){M(l.$$.fragment)},l(e){O(l.$$.fragment,e)},m(e,s){R(l,e,s),t=!0},p(e,[s]){const i={};s&32783&&(i.$$scope={dirty:s,ctx:e}),l.$set(i)},i(e){t||(b(l.$$.fragment,e),t=!0)},o(e){w(l.$$.fragment,e),t=!1},d(e){U(l,e)}}}function el(a,l,t){let e,s,i,r;te(a,Ce,p=>t(8,e=p)),te(a,Ie,p=>t(9,s=p)),te(a,Ve,p=>t(2,i=p)),te(a,Be,p=>t(3,r=p)),ae(Ie,s="Premade spellbooks",s);let n=null,o=[];Me(()=>{_()});async function _(){const{data:p,error:B}=await Fe.from("spellbooks").select().eq("published",!0);p?(console.log(p),t(1,o=p)):B&&(console.log(B),ae(Ce,e="Oops, an error occurred. Error code: "+B.code+"#error",e))}return[n,o,i,r,()=>t(0,n=null),()=>n,()=>t(0,n=null),p=>{ae(Ve,i="spellbook",i),ae(Be,r=p,r)}]}class cl extends ze{constructor(l){super(),Ge(this,l,el,xe,He,{})}}export{cl as default};
